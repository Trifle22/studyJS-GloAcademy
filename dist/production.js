(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r,a,c,l,i,u,s,d,m;(function e(t){var n,o,r,a,c=document.querySelector("#timer-hours"),l=document.querySelector("#timer-minutes"),i=document.querySelector("#timer-seconds");n=(new Date(t).getTime()-(new Date).getTime())/1e3,o=Math.floor(n%60),r=Math.floor(n/60%60),(a={timeRemaining:n,hoursRemaining:Math.floor(n/60/60),minutesRemaining:r,secondsRemaining:o}).hoursRemaining<10&&(a.hoursRemaining="0"+a.hoursRemaining.toString()),a.minutesRemaining<10&&(a.minutesRemaining="0"+a.minutesRemaining.toString()),a.secondsRemaining<10&&(a.secondsRemaining="0"+a.secondsRemaining.toString()),c.textContent=a.hoursRemaining,l.textContent=a.minutesRemaining,i.textContent=a.secondsRemaining;var u=setInterval(e,1e3,t);new Date(t).getTime()-(new Date).getTime()<=0&&(c.textContent="00",l.textContent="00",i.textContent="00",c.style.color="red",l.style.color="red",i.style.color="red",clearInterval(u))})("12 march 2021"),document.querySelectorAll('a[href*="#"]').forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href").substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}))})),m=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;(t.closest(".menu")||t.closest(".close-btn")||t.closest("ul>li>a")||!t.closest(".active-menu")&&m.classList.contains("active-menu"))&&m.classList.toggle("active-menu")})),d=document.querySelector(".popup"),document.querySelectorAll(".popup-btn").forEach((function(e){e.addEventListener("click",(function(){if(screen.width>=768)var e=Date.now(),t=setInterval((function(){var n=Date.now()-e;n>=1e3?clearInterval(t):function(e){d.style.display="block",d.style.opacity=e/1e3}(n)}),10);else d.style.display="block"}))})),d.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?d.style.display="none":(t=t.closest(".popup-content"))||(d.style.display="none")})),i=document.querySelector(".service-header"),u=i.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab"),i.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&u.forEach((function(e,n){e===t&&function(e){for(var t=0;t<s.length;t++)e===t?(u[t].classList.add("active"),s[t].classList.remove("d-none")):(u[t].classList.remove("active"),s[t].classList.add("d-none"))}(n)}))})),function(){for(var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelectorAll(".dot"),o=document.querySelector(".portfolio-dots"),r=document.querySelector(".portfolio-content"),a=0,c=document.createElement("li.dot"),l=0;l<t.length;l++)o.append(c);var i=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},s=function(){i(t,a,"portfolio-item-active"),i(n,a,"dot-active"),++a>=t.length&&(a=0),u(t,a,"portfolio-item-active"),u(n,a,"dot-active")},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;e=setInterval(s,t)};r.addEventListener("click",(function(e){e.preventDefault();var o=e.target;o.matches(".portfolio-btn, .dot")&&(i(t,a,"portfolio-item-active"),i(n,a,"dot-active"),o.matches("#arrow-right")?a++:o.matches("#arrow-left")?a--:o.matches(".dot")&&n.forEach((function(e,t){e===o&&(a=t)})),a>=t.length?a=0:a<0&&(a=t.length-1),u(t,a,"portfolio-item-active"),u(n,a,"dot-active"))})),r.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),r.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(1500)}(),(l=document.querySelector(".command")).addEventListener("mouseover",(function(e){var t=e.target;t.matches("img")&&(c=t.src,t.src=t.dataset.img,t.dataset.img=c)})),l.addEventListener("mouseout",(function(e){var t=e.target;t.matches("img")&&(c=t.src,t.src=t.dataset.img,t.dataset.img=c)})),function(){for(var e=document.querySelectorAll(".calc-item"),t=function(t){e[t].addEventListener("input",(function(){e[t].value=e[t].value.replace(/\D/g,"")}))},n=1;n<e.length;n++)t(n)}(),t=document.querySelectorAll('input[placeholder="Ваше имя"]'),n=document.querySelector('input[placeholder="Ваше сообщение"]'),o=document.querySelectorAll('input[type="email"]'),r=document.querySelectorAll('input[placeholder="Номер телефона"]'),a=function(e){return(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,"")},t.forEach((function(e){e.addEventListener("blur",(function(t){var n=t.target.value;n=n.replace(/[^а-яА-ЯёЁ\s\-]/g,"");for(var o=(n=a(n)).split(" "),r=0;r<o.length;r++)o[r]&&(o[r]=o[r][0].toUpperCase()+o[r].substr(1).toLowerCase());n=o.join(" "),e.value=a(n)}))})),n.addEventListener("blur",(function(e){var t=e.target,n=t.value;n=n.replace(/[^а-яА-ЯёЁ0-9\s\-.,]+/g,""),n=a(n),t.value=n})),o.forEach((function(e){e.addEventListener("blur",(function(e){var t=e.target,n=t.value;n=n.replace(/[^_@.!~*'A_Za-z\-\d]/g,""),(n=a(n)).includes("@")&&""!==n.trim()?t.value=n:(alert("Введите корректный адрес электронной почты"),t.value="")}))})),r.forEach((function(e){maskPhone("#".concat(e.id)),e.addEventListener("blur",(function(e){var t=e.target,n=t.value;n=n.replace(/^\+[^\d()\-]/g,""),18===(n="+"+(n=a(n))).length?t.value=n:(alert("Введите корректный номер телефона длиной 11 символов"),t.value="")}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),l=function(){var t=0,l=1,i=1,u=n.options[n.selectedIndex].value,s=+o.value;if(a.value>1&&(l+=(a.value-1)/10),r.value&&r.value<5?i*=2:r.value&&r.value<10&&(i*=1.5),u&&s?t=Math.ceil(e*u*s*l*i):u||(t=0,o.value="",r.value="",a.value=""),t>=0){var d=function(e,t,n,o,r){var a=!1;a=n?setInterval((function(){1*+e.textContent+o>=t?(e.textContent=t,clearInterval(a)):e.textContent=1*+e.textContent+o}),r):setInterval((function(){1*+e.textContent-o<=t?(e.textContent=t,clearInterval(a)):e.textContent=1*+e.textContent-o}),r)};c.textContent>t?d(c,t,!1,50,1):d(c,t,!0,50,1)}};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&l()}))}(100),function(){document.getElementById("form1"),document.getElementById("form2"),document.getElementById("form3");var t=document.querySelectorAll("form"),n=document.querySelector(".loader-container"),o=document.querySelector(".svg-loader-container"),r="animate",a=document.querySelector(".check-mark-loader"),c=document.querySelector(".error-alert"),l=document.querySelector(".error-alert-close");t.forEach((function(t){t.addEventListener("submit",(function(t){var u=t.target;t.preventDefault();var s,d=(s=u.elements,function(t){if(Array.isArray(t))return e(t)}(s)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"button"!==e.tagName.toLowerCase()})),m=new FormData(u),v={};m.forEach((function(e,t){v[t]=e})),""!==d[0].value&&""!==d[1].value&&""!==d[2].value?i(v).then((function(e){if(200!==e.status)throw new Error("status network not 200");d.forEach((function(e){e.value=""})),function(e){n.style.display="none",o.style.display="block",a.classList.add(r),setTimeout((function(){a.classList.remove(r),o.style.display="none","form3"===e.id&&(document.querySelector(".popup").style.display="none")}),1700)}(u)})).catch((function(e){!function(e,t){console.error(e),n.style.display="none",c.classList.add("error-alert-active"),l.addEventListener("click",(function(){c.classList.remove("error-alert-active")})),"form3"===t.id&&(document.querySelector(".popup").style.display="none")}(e,u)})):(t.preventDefault(),alert("Введите корректные данные во все поля формы"))}))}));var i=function(e){return n.style.display="block",fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();